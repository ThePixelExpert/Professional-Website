# Backend Service + Endpoints for Express backend running on Proxmox VM
# No selector - traffic routed to manual Endpoints (VM at 192.168.68.64)
---
apiVersion: v1
kind: Service
metadata:
  name: backend-service
  namespace: website
spec:
  ports:
    - protocol: TCP
      port: 3001
      targetPort: 3001
---
apiVersion: v1
kind: Endpoints
metadata:
  name: backend-service  # MUST match Service name exactly
  namespace: website
subsets:
  - addresses:
      - ip: 192.168.68.64  # Proxmox VM IP (matches deploy-job.yaml)
    ports:
      - port: 3001
